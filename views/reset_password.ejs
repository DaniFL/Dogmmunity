<%- include("header", {}) %>

<div class="container mt-5">
  <h2 class="text-center mb-4">Restablecer Contraseña</h2>
  <form action="/reset_password" method="POST">
    <input type="hidden" name="token" value="<%= token %>">
    <div class="mb-3">
      <label for="nuevaContrasena" class="form-label">Nueva Contraseña</label>
      <input type="password" class="form-control" id="nuevaContrasena" name="nuevaContrasena" required>
      <div class="invalid-feedback">Por favor, ingresa la nueva contraseña.</div>
    </div>
    <div class="mb-3">
      <label class="form-label" for="confirmarContrasena">Confirmar nueva contraseña</label>
      <input class="form-control" type="password" id="confirmarContrasena" name="confirmarContrasena" required>
      <div class="invalid-feedback">Por favor, confirma la nueva contraseña.</div>
    </div>
    <button type="submit" class="btn btn-primary w-100">Restablecer Contraseña</button>
  </form>
  <br><br>
</div>

<script>
  document.getElementById('formularioContraseña').addEventListener('submit', function(event) {
    const nuevaContrasena = document.getElementById('nuevaContrasena').value;
    const confirmarContrasena = document.getElementById('confirmarContrasena').value;

    if (nuevaContrasena !== confirmarContrasena) {
      event.preventDefault();
      alert('Las contraseñas no coinciden. Por favor, inténtalo de nuevo.');
      return;
    }

    // Mensaje antes de redirigir
    alert('¡Contraseña restablecida exitosamente! Serás redirigido al inicio de sesión.');
  });
</script>>

<%- include("footer", {}) %>
