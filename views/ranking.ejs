<%- include("header") %>

<main class="main">
  <!-- Page Title -->
  <div class="page-title">
    <div class="container d-lg-flex justify-content-between align-items-center">
      <h1 class="mb-2 mb-lg-0">Ranking de Nombres y Razas de Perros</h1>
      <nav class="breadcrumbs">
        <ol>
          <li><a href="/">Home</a></li>
          <li class="current">Ranking</li>
        </ol>
      </nav>
    </div>
  </div><!-- End Page Title -->

  <!-- Filtro de Género y Raza -->
  <div class="filters mt-4 text-center">
    <form method="GET" action="/ranking">
      <label for="gender">Sexo:</label>
      <select id="gender" name="gender">
        <option value="">Todos</option>
        <option value="macho" <%= gender === 'macho' ? 'selected' : '' %>>Macho</option>
        <option value="hembra" <%= gender === 'hembra' ? 'selected' : '' %>>Hembra</option>
      </select>

      <label for="breed">Raza (para nombres):</label>
      <select id="breed" name="breed">
        <option value="">Todas</option>
        <% nombres.forEach((nombre) => { %>
          <option value="<%= nombre.breed %>" <%= nombre.breed === selectedBreed ? 'selected' : '' %>><%= nombre.breed %></option>
        <% }) %>
      </select>

      <button type="submit">Filtrar</button>
    </form>
  </div>

  <!-- Rankings Section -->
  <section id="rankings" class="section">
    <div class="container">
      <!-- Ranking de Nombres -->
      <div class="section-title-container text-center" data-aos="fade-up">
        <h2>Ranking de Nombres</h2>
        <p>Consulta los nombres más usados por los miembros de Dogmmunity.</p>
      </div>

      <div class="table-responsive mt-4" data-aos="fade-up" data-aos-delay="100">
        <table class="table table-striped table-hover text-center">
          <thead class="thead-dark">
            <tr>
              <th scope="col">#</th>
              <th scope="col">Nombre</th>
              <th scope="col">Popularidad</th>
            </tr>
          </thead>
          <tbody>
            <% nombres.slice(0, 10).forEach((nombre, index) => { %>
              <tr>
                <th scope="row"><%= index + 1 %></th>
                <td><%= nombre.name %></td>
                <td><%= nombre.popularity %></td>
              </tr>
            <% }) %>
          </tbody>
        </table>
      </div>

      <!-- Ranking de Razas -->
      <div class="section-title-container text-center mt-5" data-aos="fade-up">
        <h2>Ranking de Razas</h2>
        <p>Consulta las razas más populares en Dogmmunity.</p>
      </div>

      <div class="table-responsive mt-4" data-aos="fade-up" data-aos-delay="100">
        <table class="table table-striped table-hover text-center">
          <thead class="thead-dark">
            <tr>
              <th scope="col">#</th>
              <th scope="col">Raza</th>
              <th scope="col">Popularidad</th>
            </tr>
          </thead>
          <tbody>
            <% razas.slice(0, 10).forEach((raza, index) => { %>
              <tr>
                <th scope="row"><%= index + 1 %></th>
                <td><%= raza.breed %></td>
                <td><%= raza.popularity %></td>
              </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
    </div>
  </section><!-- /Rankings Section -->

</main>

<%- include("footer") %>
